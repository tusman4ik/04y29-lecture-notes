# Определения

> [!Info]
> **Бинарное отношение** $R$ на множествах $A$ и $B$ — подмножество декартова произведения $A \times B$.
> 
> Если $R \subseteq A \times B$, мы пишем $a~R~b$ чтобы обозначить, что $a \in A$ *относится* к $b \in B$. Формально, $a ~R~ b \iff \langle a, b \rangle \in R$.
> 
> $R$ используется как для обозначения множества пар, так и как предикат.

> [!Warning]
> Порядок элементов в паре *важен*: $\langle a, b \rangle \in R$ обозначает, что $a$ относится к $b$, но не наоборот, если только в множестве отношения нет пары $\langle b, a \rangle$.

> [!Info]
> Бинарное отношение $R \subseteq A \times B$ на двух различных множествах называется **гетерогенным**.

> [!Info]
> Бинарное отношение $R \subseteq M^2$ на одном множестве называется **гомогенным**.

---
# Представление бинарных отношений

Гомогенное отношение $R \subseteq M^2$ можно представить в виде ориентированного графа, где вершины отвечают за элементы, а каждое ребро $a \to b$ существует тогда и только тогда,  когда $a ~R~ b$:

![[Drawing 2025-10-01 21.49.12.excalidraw.png]]


Гетерогенное отношение $R \subseteq A \times B$ можно представить в виде ориентированного графа, где вершины левой доли отвечают за элементы из $A$, вершины правой доли отвечают за элементы $B$, а каждое ребро $a \in A \to b \in B$ существует тогда и только тогда, когда $a~R~b$:
![[Drawing 2025-10-01 22.13.12.excalidraw.png]]

Гетерогенное отношение $R \subseteq A \times B$ можно представить в виде матрицы $M_R = \textlbrackdbl R\textrbrackdbl$, где ряды отвечают за элементы $A$, столбцы отвечают за элементы $B$, и $M_R[i, j] = 1 \iff a_i~R~b_j$ и 0 иначе:
![[Drawing 2025-10-01 22.43.03.excalidraw.png]]

---
# Особые отношения

> [!Info]
> Для любого множества $M$ мы определяем следующие **особые отношения**:
> - Пустое отношение: $\emptyset \subseteq M^2$
> - Отношение идентичности: $I_M = \{\langle x, x \rangle ~\vert~ x \in M\}$
> - Универсальное: $U_M = M^2$

---
# Операции на отношениях

Для отношений $R, S \subseteq A \times B$ определим следующие операции:

- ==Объединение==: $$R \cup S = \{\langle a, b \rangle ~\vert~ \langle a, b\rangle \in R \vee \langle a, b\rangle \in S\}$$
- ==Пересечение==: $$R \cap S = \{\langle a, b \rangle ~\vert~ \langle a, b\rangle \in R \wedge \langle a, b\rangle \in S\}$$
- ==Дополнение==: $$\overline{R} = (A \times B) \setminus R$$
- ==Конверсия== (инверсия, обратное отношение): $$R^{-1} = \{\langle b, a\rangle ~\vert~ \langle a, b \rangle \in R\} $$

---

# Свойства отношений


| Свойство            | Определение                                                          | Представление                                              | Комментарий                                                                                               |
| ------------------- | -------------------------------------------------------------------- | ---------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- |
| Рефлексивность      | $\forall a \in M: a~R~a$                                             | ![[Drawing 2025-10-01 23.43.16.excalidraw.png\|200]]       | В графе обязаны быть все возможные петли.                                                                 |
| Иррефлексивность    | $\forall a \in M: a \cancel{R} a$                                    | ![[Drawing 2025-10-01 23.43.16.excalidraw 2.png]]          | В графе нет петель.                                                                                       |
| Корефлексивность    | $\forall x, y \in A: x~R~y \implies x = y$                           | ![[Drawing 2025-10-02 00.11.35.excalidraw.png]]            | Все рёбра в графе — петли.                                                                                |
| Симметричность      | $\forall a, b \in M : a ~R~b \implies b~R~a$                         | ![[Drawing 2025-10-01 23.43.16.excalidraw 1.png]]          | В графе обязаны быть все кратные рёбра.                                                                   |
| Антисимметричность  | $\forall a, b \in M : a~R~b \wedge b~R~a \implies a=b$               | ![[Drawing 2025-10-02 00.05.44.excalidraw.png]]            | В графе недопустимы кратные рёбра, но допустимы петли.                                                    |
| Асимметричность     | $\forall a, b \in M : a~R~b \implies b\cancel{R}a$                   | ![[Drawing 2025-10-02 00.05.44.excalidraw 1.png]]          | В графе недопустимы кратные рёбра и петли.<br><br>Асимметричность = антисимметричность + иррефлексивность |
| Транзитивность      | $\forall a, b, c \in M : a~R~b \wedge b~R~c \implies a~R~c$          | ![[Drawing 2025-10-01 23.43.16.excalidraw 1 1.png\|250]]   | Любая тройка вершин в графе транзитивна.                                                                  |
| Антитранзитивность  | $\forall a, b, c \in M : a~R~b \wedge b~R~c \implies a~\cancel{R}~c$ | ![[Drawing 2025-10-01 23.43.16.excalidraw 1 1 1.png]]      | В графе нет ни одной транзитивной тройки вершин.                                                          |
| Правая евклидовость | $\forall a, b, c \in M: (a~R~c \wedge a~R~b) \implies b~R~c$         | ![[Drawing 2025-10-02 00.14.28.excalidraw.restored.png]]   |                                                                                                           |
| Левая евклидовость  | $\forall a, b, c \in M : (b~R~a \wedge c~R~a) \implies b~R~c$        | ![[Drawing 2025-10-02 00.14.28.excalidraw.restored 1.png]] |                                                                                                           |

---

# Отношения эквивалентности

> [!Info]
> Отношение называется **отношением эквивалентности**, если оно *рефлексивно*, *симметрично* и *транзитивно*.

> [!Info]
> Пусть есть $R$ — отношение эквивалентности. 
> **Классом эквивалентности** называется множество всех элементов, эквивалентных заданному: $$[x]_R = \{y \in M ~\vert~x~R~y\} $$

> **Теорема (1)**
> 
> Если $R \subseteq M^2$ — отношение эквивалентности, тогда $\forall x, y \in M: x~R~y \iff [x]_R = [y]_R$.
> 

> [!Info]
> **Quotient set** (разбиение на классы эквивалентности) — множество всех классов эквивалентности: $$M/_{R} = \{[x]_R ~\vert~x \in M\} $$

> **Теорема 2**
> 
> Каждое отношение эквивалентности $R \subseteq M^2$ соответствует некоторому разбиению $M$, и наоборот.

---

# Композиция отношений

> [!Info]
> **Композиция** двух отношений $R \subseteq A \times B$ и $S \subseteq B \times C$ определяется как $$R; S = S \circ R = \{\langle a, c \rangle ~\vert ~ \exists b \in B: (a~R~b)\wedge(b~S~c)\} $$

![[Drawing 2025-10-02 00.28.24.excalidraw.png|500]]

---

# Степени отношения

> [!Info]
> Для гомогенного отношения $R \subseteq M^2$ мы опредялеяем его **степени** как:
> - $R^0 = I_M$ (отнош-е идентичности)
> - $R^1 = R$
> - $R^n = R^{n-1} \circ R$

![[Drawing 2025-10-02 00.37.07.excalidraw.png|500]]


---
